# 现金到期货套利

> 原文：<https://blog.quantinsti.com/cash-to-future-arbitrage/>

现金和衍生品(期货)之间的套利现在更加普遍。这个 EPAT 项目将帮助你理解和学习如何建立一个现金期货套利的模块。反过来，这将有助于你押注现金期货价差，以最大化当天利润。

本文是作者在 QuantInsti 提交的算法交易高管课程([【EPAT】](https://www.quantinsti.com/epat))的最后一个项目。请务必查看我们的[项目页面](/tag/epat-trading-projects/)，看看我们的学生正在构建什么。

## **关于作者**

<figure class="kg-card kg-image-card">![](img/a3eba0c6a21632c5a454704f1e312d17.png)</figure>

[Chandrashekhar Satoskar](https://www.linkedin.com/in/chandrashekhar-satoskar-57a37285/) 是 Religare Securities Ltd .的套利交易员。他拥有孟买大学的商业学士学位，并在 Vinayaka Mission 的研究基金会完成了工商管理硕士学位(M.B.A .)。他目前是 Westbury Tradecom 有限公司的黄金、股票&衍生品交易员。

## **项目动机**

作为一名 EPAT 校友，我对建立一个现金期货套利模块非常感兴趣，这将有助于交易者或批发商对现金期货价差进行押注，就像日内价差押注一样，以最大化日内利润。为了对上述策略进行回溯测试，我在 Excel 的帮助下做了同样的事情。

## 仲裁

套利有两种类型:

*   每当期货价格高于现货价格时，它被称为“**期货溢价”**或被称为期货交易@溢价
*   每当期货价格低于(贴水)现货价格时，它被称为“**现货溢价”**或被称为[期货交易](https://quantra.quantinsti.com/course/futures-trading) @贴水。

<u>还有两种套利者</u>:

*   一种更像日内交易者或批发商，利用现金和期货的差价，尽可能捕捉差价。
*   另一类人更像中期投资者，他们对中期的固定收入流感兴趣，不承担任何信用风险或潜在观点。

## **数据挖掘**

我们可以从许多 API 或交互式代理获得数据。对于数据挖掘，我使用 ZERODHA PI 软件，该软件提供每分钟的数据，有助于收集数据以对模块进行回测。

## **数据分析**

以下是数据分析的步骤:

1.首先，按照时间框架得到**现货**和**期货**的利率——这里我用的是 1 分钟。时间范围

2.计算期货和现货之间的差额，称为**价差**。

3.计算价差的**布林线**,我们将确定价差的上限和下限，并获得相同的平均值。

4.计算价差的 **CCI(商品通道指数)**以确定价差的趋势

5.计算 CCI 的 **MACD(移动平均转换转移)**，这将有助于识别来自 MACD 的扩展转换转移信号

6.在上述计算时间之后产生用于策略的信号，

*   每当<u>价差大于</u>大于或等于布林带上轨，且 MACD 值小于 MACD 信号值时，将买入现货并卖出期货，即刷新。
*   每当<u>价差小于</u>小于或等于布林带下轨，且 MACD 值大于 MACD 信号值时，将买入期货并卖出现货，即平仓。
*   如果上述<u>条件与</u>不匹配，那么我们将保留单元格空白。

7.计算 BPS(基点): **BPS =价差/价格*100**

8.现在，我们将定义状态列，以确定交易的当前状态，即平仓或平仓:

*   我们将一次进行一个交易——这意味着如果一个正在进行的交易忽略了所有的交易信号，直到 FA 结束(从新鲜的 P&L)或 UN 结束(从放松的 P&L)到来。
*   我们不会在下午 3 点 15 分后接受新的平仓信号，因为在印度市场，卖空是不允许的
*   如果之前的状态为空白(无交易),则将单元格保留为空白
*   如果之前的状态是新上涨，价差小于或等于布林带下轨，MACD 值大于 MACD 信号值，则 FA 结束(将 P&L 从新上涨中收回)。
*   如果之前的状态是平仓，价差大于或等于布林带上轨，MACD 值小于 MACD 信号值，则取消平仓(将解除 P&L 平仓)。

9.在我们了解了根据给定的资金规模执行交易数量的交易时间的状态后，我用了 1 cr 的资金对上述策略进行回溯测试。

所以我们用这个公式:

**如果当前状态是新鲜出炉或平仓，则向下舍入(总资金/价格)/特定股票的手数*手数**

10.现在我们定义买价或卖价，所以我们从现货价格或期货价格

*   如果当前状态是 <u>Fresh up</u> ，那么将把现货价格作为买入价，把卖出价作为期货价格
*   如果当前状态为<u>平仓</u>，则将期货价格作为买价，卖价作为现货价格)

11.现在定义**买入价值**和**卖出价值**所以公式是，

*   购买价值=价格*批量
*   销售价值=价格*批量

12.计算**毛利**:是最新价差与固定资产期末价差或展开价差与未期末价差的差额

13.计算**净利润**:净利润=毛利-交易费用

14.计算**以 BPs 为单位的回报 NP**:回报 NP =净利润/总资金*100

15.计算策略结果，例如:

*   积极的结果，
*   负面结果，
*   积极交易，
*   负面交易，
*   平均回报。

## 挑战

*   预测当天的上涨或平仓信号
*   缺点:不允许卖空
*   买方和卖方必须有一个唯一的 ID 来输入任何特定股票的交易，如果相同的交易将自动平仓并将被释放到交易费用中。

## **主要发现**

*   为批发商和交易商开发日内交易，利用大资金创造回报
*   只要价差触及 MACD 的布林带上轨或下轨，或者越过 MACD 信号线，就交易
*   不要在下午 3 点 15 分后开始交易，因为获得好回报的机会很小
*   如果你正确地遵循上述步骤，有机会在一天内赚很多钱
*   每当进行新的交易时，看看 Nifty/Banknifty 现货和期货溢价/折价，这将是你交易的额外工具。
*   尝试搜索即将公布的业绩、公司行动、预算月份、RBI 政策等股票。这将创造更多的交易机会，有机会赚取额外的阿尔法。

## **结论**

上述交易策略是一种低风险策略，旨在利用

*   布林线，
*   商品渠道指数，以及
*   MACD。

不同的时间框架适用于不同的股票，因此在回溯测试和交易时，要选择正确的时间框架。

上述策略，整体性能比率将在 70%左右，但做回测根据你的结束。交易是艰难的，我希望这个策略能帮助所有交易者交易。从我的经验来看，没有交易策略是永恒的，我发现自己在重塑自己的交易风格，并尝试开发新的策略。

祝您好运，交易愉快！

* * *

如果你想学习算法交易的各个方面，那就去看看算法交易(EPAT) 的[高管课程。课程涵盖统计学&计量经济学、金融计算&技术和算法&定量交易等培训模块。EPAT 教你在算法交易中建立一个有前途的职业所需的技能。](https://www.quantinsti.com/epat/)

免责声明:就我们学生所知，本项目中的信息是真实和完整的。所有推荐均由学生或 QuantInsti**提供，不做任何保证。学生和 quantin STI***否认对这些信息的使用负有任何责任。本项目中提供的所有内容仅供参考，我们不保证通过使用该指南您将获得一定的利润。*T15】**